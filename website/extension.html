<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Setup - Claudezilla</title>
  <meta name="description" content="Installation and setup guide for Claudezilla Firefox browser automation extension.">

  <!-- Open Graph -->
  <meta property="og:title" content="Claudezilla Setup">
  <meta property="og:description" content="Get started with Firefox browser automation for Claude Code">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://claudezilla.com/extension.html">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="/assets/styles.css">
</head>
<body>
  <!-- Navigation -->
  <nav class="main-nav">
    <a href="/" class="nav-logo">Claudezilla</a>
    <div class="nav-links">
      <a href="/">Home</a>
      <a href="/extension.html" class="active">Setup</a>
      <a href="/docs.html">Docs</a>
      <a href="/support.html">Support</a>
      <a href="https://github.com/boot-industries/claudezilla" target="_blank" rel="noopener">GitHub</a>
    </div>
  </nav>

  <div class="container">
    <!-- Hero Section -->
    <section class="hero" style="min-height: auto; padding-bottom: 40px;">
      <div class="hero-content">
        <h1>Setup Guide</h1>
        <p class="tagline">Installation in 5 minutes</p>
        <p class="description">
          Follow these steps to install Claudezilla and connect it to Claude Code.
          Works on macOS and Linux with Firefox 91+.
        </p>
        <div class="status-badge disabled">
          <span class="dot"></span>
          Private Windows: Configuration Required
        </div>
      </div>
      <div class="hero-visual">
        <svg class="monster-logo" style="width: 200px; height: 200px;" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-label="Claudezilla logo">
          <defs>
            <radialGradient id="heroAtomicGlow2" cx="50%" cy="50%" r="50%">
              <stop offset="0%" stop-color="#E05A38" stop-opacity="0.9"/>
              <stop offset="40%" stop-color="#D14D32" stop-opacity="0.6"/>
              <stop offset="70%" stop-color="#D14D32" stop-opacity="0.3"/>
              <stop offset="100%" stop-color="#D14D32" stop-opacity="0"/>
            </radialGradient>
            <radialGradient id="heroEyeGlow2" cx="50%" cy="50%" r="50%">
              <stop offset="0%" stop-color="#FFF7E0" stop-opacity="1"/>
              <stop offset="50%" stop-color="#FCD34D" stop-opacity="1"/>
              <stop offset="100%" stop-color="#F59E0B" stop-opacity="0.8"/>
            </radialGradient>
            <linearGradient id="heroSpineGlow2" x1="0%" y1="100%" x2="0%" y2="0%">
              <stop offset="0%" stop-color="#D14D32" stop-opacity="0.8"/>
              <stop offset="100%" stop-color="#FCD34D" stop-opacity="0.4"/>
            </linearGradient>
          </defs>
          <g class="hero-tesseract">
            <path d="M32 6 L56 17 L56 47 L32 58 L8 47 L8 17 Z" stroke="#D14D32" stroke-width="1.5" fill="none" stroke-linejoin="round" opacity="0.7"/>
            <path d="M32 6 L32 58 M8 17 L56 47 M56 17 L8 47" stroke="#D14D32" stroke-width="1" stroke-linecap="round" opacity="0.5"/>
          </g>
          <g class="hero-glow">
            <circle cx="32" cy="32" r="30" fill="url(#heroAtomicGlow2)" opacity="0.5"/>
            <ellipse cx="32" cy="32" rx="14" ry="16" fill="#D14D32" opacity="0.35"/>
          </g>
          <g class="hero-character" transform="translate(32, 32)">
            <path d="M-6 9 Q-6.2 5.5 -6 2 L-8 -1 L-8 -5 L-6 -7 L-3 -7 L0 -11 L3 -7 L6 -7 L8 -5 L8 -1 L6 2 Q6.2 5.5 6 9 A1.5 1.5 0 0 1 3 9 Q2.8 6.5 3 4 L1.5 6 Q0 7 -1.5 6 L-3 4 Q-2.8 6.5 -3 9 A1.5 1.5 0 0 1 -6 9" fill="#1a1a1a"/>
            <ellipse cx="0" cy="-4" rx="4" ry="3.5" fill="#D14D32" opacity="0.4"/>
            <circle cx="0" cy="-4" r="3" fill="url(#heroEyeGlow2)"/>
            <circle cx="0.8" cy="-4.8" r="1" fill="#FFF7E0" opacity="0.9"/>
          </g>
        </svg>
      </div>
    </section>

    <!-- Installation Steps -->
    <section class="setup-guide">
      <h2 class="section-title">Installation</h2>
      <p class="section-subtitle">
        Clone the repository and run the install script for your platform.
      </p>

      <div class="steps">
        <div class="step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3>Clone Repository</h3>
            <p>Clone Claudezilla from GitHub and navigate to the directory.</p>
            <pre><code>git clone https://github.com/boot-industries/claudezilla.git
cd claudezilla</code></pre>
          </div>
        </div>

        <div class="step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3>Install Native Host</h3>
            <p>Run the install script for your platform. This sets up the native messaging host.</p>
            <pre><code># macOS
./install/install-macos.sh

# Linux
./install/install-linux.sh</code></pre>
          </div>
        </div>

        <div class="step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3>Load Extension in Firefox</h3>
            <p>Open Firefox and load the extension temporarily for development.</p>
            <pre><code>1. Open Firefox
2. Navigate to about:debugging
3. Click "This Firefox"
4. Click "Load Temporary Add-on"
5. Select extension/manifest.json</code></pre>
          </div>
        </div>

        <div class="step">
          <div class="step-number">4</div>
          <div class="step-content">
            <h3>Configure Claude Code</h3>
            <p>Add Claudezilla to your MCP configuration at <code>~/.claude/mcp.json</code>:</p>
            <pre><code>{
  "mcpServers": {
    "claudezilla": {
      "command": "node",
      "args": ["/path/to/claudezilla/mcp/server.js"]
    }
  }
}</code></pre>
            <p style="margin-top: 16px;">Then install MCP server dependencies and restart Claude Code:</p>
            <pre><code>cd claudezilla/mcp && npm install</code></pre>
          </div>
        </div>
      </div>
    </section>

    <!-- Permission Setup -->
    <section class="setup-guide">
      <h2 class="section-title">ðŸ”’ Enable Private Window Access</h2>
      <p class="section-subtitle">
        Claudezilla works best with private window permission. This gives Claude full browser
        control while keeping your automation isolated and secure.
      </p>

      <div class="steps">
        <!-- Step 1 -->
        <div class="step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3>Open Extension Settings</h3>
            <p>Navigate to Firefox Add-ons manager.</p>
            <div class="diagram">
              <div class="browser-chrome">
                <div class="browser-tabs">
                  <div class="browser-tab">New Tab</div>
                  <div class="browser-tab active">Add-ons and Themes</div>
                  <div class="browser-tab">Settings</div>
                </div>
                <div class="browser-address">about:addons</div>
              </div>
              <div style="position: relative; margin-top: 16px;">
                <div class="arrow-indicator" style="top: -10px; right: 20px;">
                  <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 5 L20 30 M20 30 L10 20 M20 30 L30 20" stroke="#D14D32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 2 -->
        <div class="step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3>Find Claudezilla Extension</h3>
            <p>Locate "Claudezilla" in your installed extensions list.</p>
            <div class="diagram">
              <div class="extension-list">
                <div class="extension-item">
                  <div class="icon">ðŸ”’</div>
                  <div class="info">
                    <div class="name">Privacy Badger</div>
                    <div class="description">Blocks invisible trackers</div>
                  </div>
                </div>
                <div class="extension-item highlighted">
                  <div class="icon">ðŸ¦–</div>
                  <div class="info">
                    <div class="name">Claudezilla</div>
                    <div class="description">Browser automation for Claude Code</div>
                  </div>
                </div>
                <div class="extension-item">
                  <div class="icon">ðŸŽ¨</div>
                  <div class="info">
                    <div class="name">Dark Reader</div>
                    <div class="description">Dark mode for every website</div>
                  </div>
                </div>
              </div>
              <div style="position: relative; margin-top: 16px;">
                <div class="arrow-indicator" style="top: -60px; left: 50%; transform: translateX(-50%);">
                  <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="18" stroke="#D14D32" stroke-width="3" fill="none"/>
                    <path d="M20 10 L20 30 M15 25 L20 30 L25 25" stroke="#D14D32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 3 -->
        <div class="step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3>Enable Private Window Permission</h3>
            <p>Click on Claudezilla details, then toggle "Run in Private Windows" to ON.</p>
            <div class="diagram">
              <div style="background: #1a1a1a; padding: 20px; border-radius: 6px;">
                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 20px;">
                  <div class="icon" style="width: 48px; height: 48px; background: var(--terracotta); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 28px;">ðŸ¦–</div>
                  <div>
                    <div style="font-size: 18px; font-weight: 700; color: #fff; margin-bottom: 4px;">Claudezilla</div>
                    <div style="font-size: 12px; color: #666;">by boot.industries</div>
                  </div>
                </div>
                <div style="background: #2a2a2a; padding: 16px; border-radius: 6px; border: 2px solid var(--terracotta);">
                  <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                    <span style="font-size: 14px; color: #fff;">Run in Private Windows</span>
                    <div class="toggle-switch on"></div>
                  </div>
                  <div style="font-size: 11px; color: #888; line-height: 1.4;">
                    This extension will be able to read and change data in private windows.
                  </div>
                </div>
              </div>
              <div style="position: relative; margin-top: 16px;">
                <div class="arrow-indicator" style="top: -100px; right: 80px;">
                  <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5 20 L30 20 M30 20 L20 10 M30 20 L20 30" stroke="#D14D32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="note">
        <strong>âš¡ Why Private Windows?</strong>
        <p>
          Private window permission allows Claude to create and control browser tabs without
          interference. You can still use Claudezilla without this permission, but some features
          will be restricted. You can enable this anytime from <code>about:addons</code>.
        </p>
      </div>
    </section>

    <!-- Verify Installation -->
    <section class="setup-guide">
      <h2 class="section-title">Verify Installation</h2>
      <p class="section-subtitle">
        Test that everything is working correctly.
      </p>

      <div class="steps">
        <div class="step">
          <div class="step-number">âœ“</div>
          <div class="step-content">
            <h3>Test with Claude</h3>
            <p>Open Claude Code and try a simple command:</p>
            <pre><code>"Claude, open https://example.com and take a screenshot"</code></pre>
            <p style="margin-top: 16px; color: var(--text-secondary);">
              If Claude can open Firefox and capture a screenshot, you're all set!
            </p>
          </div>
        </div>
      </div>

      <div class="note">
        <strong>ðŸ”§ Troubleshooting</strong>
        <p>
          Check <code>/tmp/claudezilla-debug.log</code> for connection issues.
          Verify the extension is visible in <code>about:addons</code>.
          Restart Claude Code after any MCP configuration changes.
        </p>
      </div>
    </section>

    <!-- Support CTA -->
    <section class="support-section">
      <h2 class="section-title">â˜• Support This Project</h2>
      <p class="section-subtitle">
        Claudezilla is free and open source. Your support helps keep it that way.
      </p>

      <div class="support-cta">
        <a href="/support.html" class="support-btn">
          <span class="btn-icon">â˜•</span>
          <span class="btn-text">Buy Me a Coffee</span>
        </a>
        <p class="support-note">One-time or monthly contributions via Stripe</p>
      </div>
    </section>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-content">
      <div class="footer-links">
        <a href="https://github.com/boot-industries/claudezilla" target="_blank" rel="noopener">GitHub</a>
        <a href="https://github.com/boot-industries/claudezilla/blob/main/SECURITY.md" target="_blank" rel="noopener">Security</a>
        <a href="/support.html">Support</a>
      </div>
      <div class="footer-credit">
        MIT License Â· <a href="https://boot.industries" target="_blank" rel="noopener">boot.industries</a>
      </div>
    </div>
  </footer>

  <script>
    // Check for Stripe checkout success redirect
    (function() {
      const urlParams = new URLSearchParams(window.location.search);
      const sessionId = urlParams.get('session_id');

      if (sessionId) {
        showThankYouModal();
        // Clear session_id from URL
        const newUrl = window.location.pathname;
        window.history.replaceState({}, document.title, newUrl);
      }

      function showThankYouModal() {
        // SECURITY: Use safe DOM methods instead of innerHTML
        const overlay = document.createElement('div');
        overlay.className = 'thank-you-overlay';

        const modal = document.createElement('div');
        modal.className = 'thank-you-modal';

        const checkmark = document.createElement('div');
        checkmark.className = 'checkmark';
        checkmark.textContent = 'âœ“';

        const heading = document.createElement('h2');
        heading.textContent = 'Thank You!';

        const message = document.createElement('p');
        message.textContent = 'Your support keeps Claudezilla free and open source.';

        const receiptNote = document.createElement('p');
        receiptNote.className = 'receipt-note';
        receiptNote.textContent = "You'll receive a receipt via email shortly.";

        modal.appendChild(checkmark);
        modal.appendChild(heading);
        modal.appendChild(message);
        modal.appendChild(receiptNote);
        overlay.appendChild(modal);

        document.body.appendChild(overlay);

        // Auto-close after 4 seconds
        setTimeout(() => {
          overlay.style.opacity = '0';
          setTimeout(() => overlay.remove(), 300);
        }, 4000);
      }
    })();
  </script>
</body>
</html>
